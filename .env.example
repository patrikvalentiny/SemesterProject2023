# Generate JWT Secret (32 bytes base64 encoded)
jwt_secret=$(openssl rand -base64 32)
echo "Generated JWT Secret: $jwt_secret"

# Generate Strong Password (16 characters)
strong_password=$(openssl rand -base64 12 | tr -dc 'a-zA-Z0-9!@#$%^&*()' | head -c 16)
echo "Generated Password: $strong_password"

# Generate .env file (example values)
echo "ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_ConnectionStrings__WebApiDatabase=postgres://postgres:${strong_password}@db:5432/weighttracker
ASPNETCORE_JWT__Secret=${jwt_secret}
ASPNETCORE_JWT__Lifetime=1440

POSTGRES_USER=postgres
POSTGRES_PASSWORD=${strong_password}
POSTGRES_DB=weighttracker" > .env